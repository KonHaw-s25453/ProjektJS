{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":7,"numPassedTests":18,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":19,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1764520926482,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Integration: upload -> DB (real DB required)"],"duration":2013,"failureDetails":[{"matcherResult":{"actual":0,"expected":1,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0\n    at Object.toBe (C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\integration.test.js:90:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Integration: upload -> DB (real DB required) uploads Test.vcv and creates a patch row","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"uploads Test.vcv and creates a patch row"}],"endTime":1764520932509,"message":"  ● Integration: upload -> DB (real DB required) › uploads Test.vcv and creates a patch row\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 1\n    Received: 0\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m     \u001b[90m// verify row exists in test DB\u001b[39m\n     \u001b[90m 89 |\u001b[39m     \u001b[36mconst\u001b[39m [rows] \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m dbConn\u001b[33m.\u001b[39mexecute(\u001b[32m'SELECT id, user_name, file_path FROM patches WHERE id = ?'\u001b[39m\u001b[33m,\u001b[39m [patchId])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m     expect(rows\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m     expect(rows[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39muser_name)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test-integration'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\n     \u001b[90m 93 |\u001b[39m     \u001b[90m// remove uploaded file that the app saved\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration.test.js:90:25)\n","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\integration.test.js","startTime":1764520926735,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":[],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"upload of compressed .vcv (deflated JSON) parses and registers modules","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"upload of compressed .vcv (deflated JSON) parses and registers modules"},{"ancestorTitles":[],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"upload of plain JSON .vcv (not compressed) is handled","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"upload of plain JSON .vcv (not compressed) is handled"},{"ancestorTitles":[],"duration":199,"failureDetails":[],"failureMessages":[],"fullName":"patch listing supports filtering by user and category and since date","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"patch listing supports filtering by user and category and since date"},{"ancestorTitles":[],"duration":51,"failureDetails":[],"failureMessages":[],"fullName":"GET /patches/:id returns modules with plugin link and download serves file","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"GET /patches/:id returns modules with plugin link and download serves file"}],"endTime":1764520933346,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\core.test.js","startTime":1764520932533,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["endpoint extra behaviors"],"duration":298,"failureDetails":[],"failureMessages":[],"fullName":"endpoint extra behaviors GET /download/:id returns 404 for missing patch","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /download/:id returns 404 for missing patch"},{"ancestorTitles":["endpoint extra behaviors"],"duration":591,"failureDetails":[],"failureMessages":[],"fullName":"endpoint extra behaviors when DB not configured endpoints return DB not configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"when DB not configured endpoints return DB not configured"}],"endTime":1764520934372,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\endpoints_extra.test.js","startTime":1764520933356,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":[],"duration":178,"failureDetails":[],"failureMessages":[],"fullName":"add tags to a patch and retrieve them","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"add tags to a patch and retrieve them"}],"endTime":1764520935558,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\tags.test.js","startTime":1764520934399,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Rate limiting"],"duration":331,"failureDetails":[],"failureMessages":[],"fullName":"Rate limiting allows requests under the limit and blocks when exceeded","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"allows requests under the limit and blocks when exceeded"}],"endTime":1764520936369,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\rate_limit.test.js","startTime":1764520935584,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":[],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"GET /patches returns empty patches array with mock DB","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"GET /patches returns empty patches array with mock DB"},{"ancestorTitles":[],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"POST /upload without file returns 400","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /upload without file returns 400"},{"ancestorTitles":["Integration with fixture test.vcv (if present)"],"duration":189,"failureDetails":[],"failureMessages":[],"fullName":"Integration with fixture test.vcv (if present) POST /upload with test.vcv stores patch and returns patchId","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"POST /upload with test.vcv stores patch and returns patchId"}],"endTime":1764520937189,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\patches.test.js","startTime":1764520936379,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Upload limits and validation"],"duration":55,"failureDetails":[],"failureMessages":[],"fullName":"Upload limits and validation accepts small .vcv file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"accepts small .vcv file"},{"ancestorTitles":["Upload limits and validation"],"duration":175,"failureDetails":[],"failureMessages":[],"fullName":"Upload limits and validation rejects too large file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects too large file"},{"ancestorTitles":["Upload limits and validation"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Upload limits and validation rejects wrong extension","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects wrong extension"}],"endTime":1764520938573,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\upload_limits.test.js","startTime":1764520937254,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":[],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"tryParseVCV handles deflated JSON buffer","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"tryParseVCV handles deflated JSON buffer"},{"ancestorTitles":[],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"tryParseVCV handles plain JSON buffer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"tryParseVCV handles plain JSON buffer"},{"ancestorTitles":[],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"tryParseVCV returns null for invalid data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"tryParseVCV returns null for invalid data"},{"ancestorTitles":[],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"extractModules finds nested modules and dedupes","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"extractModules finds nested modules and dedupes"}],"endTime":1764520939051,"message":"","name":"C:\\Users\\konhaw\\Desktop\\Uczelnia\\JS\\Projekt\\__tests__\\utils.test.js","startTime":1764520938589,"status":"passed","summary":""}],"wasInterrupted":false}
